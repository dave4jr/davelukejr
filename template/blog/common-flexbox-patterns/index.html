<!DOCTYPE html>
<html>

<!-- Mirrored from tobiasahlin.com/blog/common-flexbox-patterns/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 09 Jul 2019 08:56:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  
  <meta property="og:title" content="Common CSS Flexbox Layout Patterns with Example Code" />
  <meta property="og:description" content="Quickly create grids, masonry, stacks and more layouts with these 10 CSS flexbox templates" />
  <meta property="og:url" content="index.html" />
  <meta property="og:type" content="blog" />
  <meta property="og:image" content="../../static/-social/og_blog-common-flexbox-patterns.jpg" />
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="627">

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@tobiasahlin" />
  <meta name="twitter:creator" content="@tobiasahlin" />

  <meta name="description" content="Quickly create grids, masonry, stacks and more layouts with these 10 CSS flexbox templates" />
  <meta name="keywords" content=", tobias ahlin, github, spotify, hyper island" />

	<title>
    Common CSS Flexbox Layout Patterns with Example Code
     | Tobias Ahlin
  </title>
    <link rel="icon" href="../../images/favicon.ico" type="image/x-icon" />
  <link rel="alternate" type="application/rss+xml"  href="../../feed.xml" title="Blog RSS Feed">
  <link rel="apple-touch-icon" href="../../images/touch-icon-iphone.png">
  <link rel="apple-touch-icon" sizes="76x76" href="../../images/touch-icon-ipad.png">
  <link rel="apple-touch-icon" sizes="120x120" href="../../images/touch-icon-iphone-retina.png">
  <link rel="apple-touch-icon" sizes="152x152" href="../../images/touch-icon-ipad-retina.png">
	
  <link href='../../../fonts.googleapis.com/css4bf9.css?family=EB+Garamond' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="../../css/site.css">
  

  
  <script src="../../../ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script src="../../../cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>


<script type="text/javascript" src="../../js/app.js"></script>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-7944098-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
  </script>


  <script type="text/javascript" src="../../js/post.js"></script>
</head>
<body class="layout-post">

<div class="site-header site-header-post">
      <div class="site-nav-animation-wrapper menu-animation-wrapper">
      <div class="site-nav-animated-background menu-animated-background"></div>
    </div>
    <a href="../../index.html" class="menu ">
      <span class="menu-icon-line-1 menu-icon-line"></span>
      <span class="menu-icon-line-2 menu-icon-line"></span>
      <span class="menu-icon-line-3 menu-icon-line"></span>
    </a>

    <div class="site-nav-overlay js-nav">
      <div class="nav-content">
        <div class="js-nav-header nav-header">
          <span class="nav-header-text">Tobias Ahlin</span>
          <div class="nav-header-line js-nav-header-line"></div>
        </div>

        <ul class="nav-categories">
          <li class="nav-category js-nav-animate"><a href="../../index.html" class="nav-link">Overview</a></li>
          <li class="nav-category js-nav-animate"><a href="../index.html" class="nav-link">Blog</a></li>
          <li class="nav-category js-nav-animate"><a href="../tutorials/index.html" class="nav-link">Tutorials</a></li>
          <li class="nav-category js-nav-animate"><a href="../../speaking/index.html" class="nav-link">Speaking</a></li>
        </ul>

        <div class="nav-sublinks js-nav-animate">
          <div class="js-nav-animate">
          <a class="nav-link nav-sublink" href="../../moving-letters/index.html">Moving Letters</a>
          <a class="nav-link nav-sublink" href="../../typesource/index.html">TypeSource</a>
          <a class="nav-link nav-sublink" href="../../spinkit/index.html">SpinKit</a>
          </div>
        </div>
      </div>

    </div>

  <h1 class="site-name site-name-post">
  <a class="siteLogoLink  site-name-link-parent" href="../../index.html">
  <svg class="siteHead-logoMark"xmlns="http://www.w3.org/2000/svg" width="47.25" height="26" viewBox="0 0 47.25 26">
  <path fill="currentColor" d="M1302.67,72.311a0.994,0.994,0,0,0-1.78-.016l-15.91,23.358a0.775,0.775,0,0,0,.7,1.328h10.61a3.292,3.292,0,0,0,2.47-1.347l1.81-2.793a0.967,0.967,0,0,1,1.75,0l1.81,2.793a3.311,3.311,0,0,0,2.48,1.347h10.6a0.793,0.793,0,0,0,.73-1.344Zm-12.42,12.739c0.5-.727,1.22-1.782,1.6-2.344s1.09-1.622,1.58-2.356l5.4-8.01a0.778,0.778,0,0,0-.71-1.332l-25.58-.032a1.611,1.611,0,0,0-1.61,1.607v7.7a1.609,1.609,0,0,0,1.61,1.6l7.84,0a1.607,1.607,0,0,1,1.6,1.6V95.437c0,0.883.41,1.011,0.91,0.284Zm0,0c0.5-.727,1.22-1.782,1.6-2.344s1.09-1.622,1.58-2.356l5.4-8.01a0.778,0.778,0,0,0-.71-1.332l-25.58-.032a1.611,1.611,0,0,0-1.61,1.607v7.7a1.609,1.609,0,0,0,1.61,1.6l7.84,0a1.607,1.607,0,0,1,1.6,1.6V95.437c0,0.883.41,1.011,0.91,0.284Z" transform="translate(-1270.94 -70.969)"/>
</svg>
</a>
  
    <a class="site-name-link" href="../index.html">Blog</a>
  
</h1>
      <div class="site-nav-animation-wrapper site-search-animation-wrapper">
      <div class="site-nav-animated-background site-search-animated-background"></div>
    </div>
    
    <a href="#" class="site-search js-search">
      <span class="site-search-icon"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 38.96 41.469">
  <circle class="site-search-icon-circle" fill="none" stroke-width="4px" cx="16.465" cy="16.484" r="14.465"/>
  <path class="site-search-icon-line" d="M2791.72,95.441l3.03-3.034,13.1,13.968-3.03,3.034Z" transform="translate(-2768.88 -67.938)"/>
</svg>
</span>
      <span class="site-search-close-icon">
        <span class="site-search-close-icon-line site-search-close-icon-line-1"></span>
        <span class="site-search-close-icon-line site-search-close-icon-line-2"></span>
      </span>
    </a>

    <div class="js-search-overlay site-nav-overlay-search">
      <div class="site-search-content">
        <input placeholder="Search…" type="text" class="js-search-input siteSearchInput">
        <div class="site-search-content-results js-site-search-content-results"></div>
      </div>
    </div>

</div>
<div class="single-post">
	<div class="single-post-head" style="background-color: #314964">
			<h1 class="post-header" >Common CSS Flexbox Layout Patterns with Example Code</h1>

			<div class="carbon-ad-container"><script async type="text/javascript" src="../../../cdn.carbonads.com/carbon2b4d.js?zoneid=1673&amp;serve=C6AILKT&amp;placement=tobiasahlincom" id="_carbonads_js"></script></div>
	</div>
	
	<div class="article article-single">
		<div class="blog-banner">
  <div class="blog-banner-content">
      <div class="flexbox-banner-logo">
        <div class="flexbox-box flexbox-box-1" style="transform: translateY(-23px) scaleY(0.15)"></div>
        <div class="flexbox-box flexbox-box-2" style="transform: translateY(0) scaleY(0.15); "></div>
        <div class="flexbox-box flexbox-box-3" style="transform: translateY(23px) scaleY(0.15);"></div>
      </div>
  </div>
</div>
<style>
.flexbox-banner-logo {
  width: 100px;
  height: 100px;
  display: inline-block;
  position: relative;
}

.flexbox-box {
  background-color: #fff;
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
</style>

<script>
var postFlexBoxTimeline = anime.timeline({ loop: true });
postFlexBoxTimeline
  .add({ /* hamburger */ 
    targets: '.flexbox-box',
    translateY: function(el, i) { return -23+(i*23) },
    scaleY: 0.15,
    duration: 500
  })
  .add({ /* collapsed hamburger */
    targets: '.flexbox-box',
    translateY: 0,
    scaleY: 0.15,
    duration: 900,
    easing: "easeInOutExpo",
    delay: 800
  })
  .add({ /* one vertical line */
    targets: '.flexbox-box',
    scaleY: 1,
    scaleX: 0.15,
    easing: "easeOutExpo",
    duration: 400
  })
  .add({ /* flipped hamburger */
    targets: '.flexbox-box',
    translateX: function(el, i) { return -30+(i*30) },
    scaleY: 0.9,
    scaleX: 0.15,
    easing: "easeOutExpo",
    duration: 700
  })
  .add({ /* Wide flipped hamburger */
    targets: '.flexbox-box',
    translateX: function(el, i) { return -50+(i*50) },
    scaleY: 0.9,
    scaleX: function(el, i) { return i == 1 ? 0.7 : 0.15 },
    easing: "easeOutExpo",
    duration: 500,
    delay: 800
  })
  .add({ /* Wide collapsed flipped hamburger */
    targets: '.flexbox-box',
    translateX: function(el, i) { return -50+(i*50) },
    scaleY: 0.15,
    scaleX: function(el, i) { return i == 1 ? 0.7 : 0.15 },
    easing: "easeOutExpo",
    duration: 500,
    delay: 800
  })
  .add({
    targets: '.flexbox-box',
    translateX: function(el, i) { 
      if (i == 0) return "-23px";
      if (i == 1) return 0;
      return "23px";
    },
    translateY: function(el, i) { return i == 1 ? "-12px" : "12px" },
    scaleY: 0.15,
    scaleX: function(el, i) { return i == 1 ? 0.84 : 0.38 },
    easing: "easeOutExpo",
    duration: 500,
    delay: 800
  })
  .add({ /* hamburger */ 
    targets: '.flexbox-box',
    translateY: function(el, i) { 
      if (i == 0) return 0;
      if (i == 1) return "-23px";
      return "23px";
    },
    translateX: 0,
    scaleY: 0.15,
    scaleX: 1,
    easing: "easeOutExpo",
    duration: 500,
    delay: 800
  });
app.animations.track(postFlexBoxTimeline, document.querySelector(".flexbox-banner-logo"));
</script>

<!--more-->

<p>In theory, it’s pretty straightforward to use <a href="../../../developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox.html">flexbox</a> (Flexible Box Module) to build complex layouts, but I’ve often found myself adding <code class="highlighter-rouge">display: flex</code> to an element and then promptly spending an eternity trying to figure out how to make anything behave like I expect it to. If you’re anything like me: here’s a list of 10 example flexbox layouts with CSS that you can copy and paste to get started with your own layouts. We’ll walk through these basic layout patterns (click to jump to an example):</p>

<div class="post-flexbox-icon-overview">
  <a href="#stretch-all-fixed-spacing" class="post-flexbox-icon-overview-item">
    <div class="icon-flex flex1">
      <div class="icon-child flex1-child" style="height: 40px"></div>
      <div class="icon-child flex1-child" style="height: 40px"></div>
      <div class="icon-child flex1-child" style="height: 40px"></div>
      <div class="icon-child flex1-child" style="height: 40px"></div>
    </div>
    <span class="post-flexbox-icon-overview-title">Stretch all</span>
  </a>  
  <a href="#stretch-middle-fixed-spacing" class="post-flexbox-icon-overview-item">
    <div class="icon-flex flex2">
      <div class="icon-child flex2-child" style="width: 20px; height: 40px"></div>
      <div class="icon-child flex2-child flex2-child-center" style="height: 40px"></div>
      <div class="icon-child flex2-child" style="width: 20px; height: 40px"></div>
    </div>
    <span class="post-flexbox-icon-overview-title">Stretch middle</span>
  </a>
  <a href="#alternating-grid" class="post-flexbox-icon-overview-item">
   <div class="icon-flex flex3">
      <div style="height: 15px;" class="icon-child flex3-child"></div>
      <div style="height: 15px;" class="icon-child flex3-child"></div>
      <div style="height: 15px;" class="icon-child flex3-child"></div>
      <div style="height: 15px;" class="icon-child flex3-child"></div>
      <div style="height: 15px;" class="icon-child flex3-child"></div>
    </div>
    <span class="post-flexbox-icon-overview-title">Alternating grid</span>
  </a>
  <a href="#3x3-grid" class="post-flexbox-icon-overview-item">
    <div class="icon-flex flex4">
      <div style="height: 15px" class="icon-child flex4-child"></div>
      <div style="height: 15px" class="icon-child flex4-child"></div>
      <div style="height: 15px" class="icon-child flex4-child"></div>
      <div style="height: 15px" class="icon-child flex4-child"></div>
      <div style="height: 15px" class="icon-child flex4-child"></div>
      <div style="height: 15px" class="icon-child flex4-child"></div>
      <div style="height: 15px" class="icon-child flex4-child"></div>
      <div style="height: 15px" class="icon-child flex4-child"></div>
      <div style="height: 15px" class="icon-child flex4-child"></div>
    </div>
    <span class="post-flexbox-icon-overview-title">3x3 grid</span>
  </a>
  <a href="#3x3-grid-constrained-proportions-11" class="post-flexbox-icon-overview-item">
    <div style="width: 52px" class="icon-flex flex5">
      <div class="icon-child flex5-child"></div>
      <div class="icon-child flex5-child"></div>
      <div class="icon-child flex5-child"></div>
      <div class="icon-child flex5-child"></div>
      <div class="icon-child flex5-child"></div>
      <div class="icon-child flex5-child"></div>
      <div class="icon-child flex5-child"></div>
      <div class="icon-child flex5-child"></div>
      <div class="icon-child flex5-child"></div>
    </div>
    <span class="post-flexbox-icon-overview-title">3x3 (1:1)</span>
  </a>
  <a href="#3x3-grid-constrained-proportions-169" class="post-flexbox-icon-overview-item">
    <div class="icon-flex flex6">
      <div class="icon-child flex6-child"></div>
      <div class="icon-child flex6-child"></div>
      <div class="icon-child flex6-child"></div>
      <div class="icon-child flex6-child"></div>
      <div class="icon-child flex6-child"></div>
      <div class="icon-child flex6-child"></div>
      <div class="icon-child flex6-child"></div>
      <div class="icon-child flex6-child"></div>
      <div class="icon-child flex6-child"></div>
    </div>
    <span class="post-flexbox-icon-overview-title">3x3 (16:9)</span>
  </a>
  <a href="#graph-vertical-bars" class="post-flexbox-icon-overview-item">
    <div class="icon-flex flex7">
      <div class="icon-child flex7-child flex7-child-1"></div>
      <div class="icon-child flex7-child flex7-child-2"></div>
      <div class="icon-child flex7-child flex7-child-3"></div>
      <div class="icon-child flex7-child flex7-child-4"></div>
      <div class="icon-child flex7-child flex7-child-5"></div>
    </div>
    <span class="post-flexbox-icon-overview-title">Horizontal bars</span>
  </a>
  <a href="#graph-horizontal-bars" class="post-flexbox-icon-overview-item">
    <div class="icon-flex flex8">
      <div class="icon-child flex8-child flex8-child-1"></div>
      <div class="icon-child flex8-child flex8-child-2"></div>
      <div class="icon-child flex8-child flex8-child-3"></div>
      <div class="icon-child flex8-child flex8-child-4"></div>
      <div class="icon-child flex8-child flex8-child-5"></div>
    </div>
    <span class="post-flexbox-icon-overview-title">Vertical bars</span>
  </a>
  <a href="#vertical-stack-centered" class="post-flexbox-icon-overview-item">
    <div class="icon-flex flex9">
      <div class="icon-child flex9-child"></div>
      <div class="icon-child flex9-child"></div>
      <div class="icon-child flex9-child"></div>
      <div class="icon-child flex9-child"></div>
      <div class="icon-child flex9-child"></div>
     </div>
    <span class="post-flexbox-icon-overview-title">Vertical stack</span>
  </a>
  <a href="#masonry-or-mosaic" class="post-flexbox-icon-overview-item">
    <div class="icon-flex flex10 icon-flex10">
      <div class="icon-child flex10-child icon-flex10-child flex10-child-1 icon-flex10-child-1"></div>
      <div class="icon-child flex10-child icon-flex10-child flex10-child-2 icon-flex10-child-2"></div>
      <div class="icon-child flex10-child icon-flex10-child flex10-child-3 icon-flex10-child-3"></div>
      <div class="icon-child flex10-child icon-flex10-child flex10-child-4 icon-flex10-child-4"></div>
      <div class="icon-child flex10-child icon-flex10-child flex10-child-5 icon-flex10-child-5"></div>
      <div class="icon-child flex10-child icon-flex10-child flex10-child-6 icon-flex10-child-6"></div>
      <div class="icon-child flex10-child icon-flex10-child flex10-child-7 icon-flex10-child-7"></div>
      <div class="icon-child flex10-child icon-flex10-child flex10-child-8 icon-flex10-child-8"></div>
      <div class="icon-child flex10-child icon-flex10-child flex10-child-9 icon-flex10-child-9"></div>
      <div class="icon-child flex10-child icon-flex10-child flex10-child-10 icon-flex10-child-10"></div>
    </div>
    <span class="post-flexbox-icon-overview-title">Masonry</span>
  </a>
</div>

<p>Every example assumes that your HTML contains an element with a class of <code class="highlighter-rouge">container</code> which then contains several children that all have a class of <code class="highlighter-rouge">item</code> (the number of children varies per example):</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"item"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"item"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"item"</span><span class="nt">&gt;&lt;/div&gt;</span>
  ...
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<style>
.post-flexbox-icon-overview {
  display: flex;
  flex-flow: row wrap;
  justify-content: space-between;
  margin: 0 auto 2em;
  max-width: 700px;
  padding-left: 20px;
  padding-right: 20px;
}
.post-flexbox-icon-overview-item {
  width: 19%;
  background-color: #f8f8f9;
  box-shadow: 0 1px 1px rgba(0,0,0,0.1), 0 2px 2px rgba(0,0,0,0.1);
  border-radius: 3px;
  text-align: center;
  color: rgba(0,0,0,0.8);
  font-size: 10px;
  text-decoration: none;
  margin-bottom: 10px;
  padding: 20px 10px 5px;
  box-sizing: border-box;
  transition: transform 0.25s cubic-bezier(0.215, 0.61, 0.355, 1);
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
}
.post-flexbox-icon-overview-item:hover {
  transform: scale(1.07);
  color: rgba(0,0,0,0.8);
}

.post-flexbox-icon-overview-title {
  margin-top: 15px;
  margin-bottom: 10px;
  display: block;
  line-height: 1.1em;
}

.icon-flex {
  max-height: 56px;
  max-width: 70px;
  width: 100%;
  margin: 0 auto;
}

.icon-child {
  border-radius: 2px;
  background-color: #A2CBFA;
  border: 1px solid #4390E1;
  box-sizing: border-box;
}

.blog-content-wrapper {
  padding: 0 20px 20px;
  margin-bottom: 20px;
  max-width: 900px;
  margin-left: auto;
  margin-right: auto;
}

.flex {
  background-color: #f7f7f7;
  border-radius: 3px;
  padding: 20px;
}

.child {
  border-radius: 3px;
  background-color: #A2CBFA;
  border: 1px solid #4390E1;
  box-sizing: border-box;
  box-shadow: 0 2px 2px rgba(0,90,250,0.05),
    0 4px 4px rgba(0,90,250,0.05),
    0 8px 8px rgba(0,90,250,0.05),
    0 16px 16px rgba(0,90,250,0.05);
}
</style>

<h2 id="stretch-all-fixed-spacing">Stretch all, fixed spacing</h2>

<div class="blog-content-wrapper">
  <div class="flex flex1">
      <div class="child flex1-child"></div>
      <div class="child flex1-child"></div>
      <div class="child flex1-child"></div>
      <div class="child flex1-child"></div>
      <div class="child flex1-child"></div>
  </div>
</div>

<style>
.flex1 {
  display: flex;
}

.flex1-child {
  flex-grow: 1;
  height: 100px;
}

.flex1-child + .flex1-child {
  margin-left: 2%;
}
</style>

<p>The most basic flexbox pattern: getting a few boxes to stretch and fill the full width of their parent element. All you need to do is to set <code class="highlighter-rouge">display: flex</code> on the container, and a <code class="highlighter-rouge">flex-grow</code> value above <code class="highlighter-rouge">0</code> on the children:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item</span> <span class="p">{</span>
  <span class="nl">flex-grow</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item</span> <span class="o">+</span> <span class="nc">.item</span> <span class="p">{</span>
  <span class="nl">margin-left</span><span class="p">:</span> <span class="m">2%</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>We use a <code class="highlighter-rouge">+</code> selector to only add gaps between pairs of items (essentially just skipping the left margin for the first item in the list).</p>

<p>Increasing <code class="highlighter-rouge">flex-grow</code> will increase <em>the amount of space</em> that an element is allowed to stretch to compared to any other element. If we set <code class="highlighter-rouge">flex-grow</code>to <code class="highlighter-rouge">2</code> on the middle element here, we would basically divide up the available space into 6 chunks (1 chunk for each item plus 1 extra for the middle item, 1+1+2+1+1). The middle item gets two chunks (<code class="highlighter-rouge">flex-grow: 2</code>) worth of space, and all other elements get one chunk (<code class="highlighter-rouge">flex-grow: 1</code>).</p>

<div class="blog-content-wrapper">
  <div class="flex flex1">
      <div class="child flex1-child"></div>
      <div class="child flex1-child"></div>
      <div class="child flex1-child" style="flex-grow: 2"></div>
      <div class="child flex1-child"></div>
      <div class="child flex1-child"></div>
  </div>
</div>

<h2 id="stretch-middle-fixed-spacing">Stretch middle, fixed spacing</h2>

<div class="blog-content-wrapper">
  <div class="flex flex2">
    <div class="child flex2-child"></div>
    <div class="child flex2-child flex2-child-center"></div>
    <div class="child flex2-child"></div>
  </div>
</div>
<style>
  /* Example 2 */
.flex2 {
  display: flex;
}

.flex2-child {
  height: 100px;
  width: 100px;
}

.flex2-child-center {
  flex-grow: 1;
}

.flex2-child + .flex2-child {
  margin-left: 2%;
}
</style>

<p>A common app and web pattern is to create a top bar where we want to stretch only the middle element, but keep the right most and left most elements fixed. If we just want one element to stretch, we can set a fixed width (e.g. <code class="highlighter-rouge">100px</code>) on an element that should stay static, and <code class="highlighter-rouge">flex-grow: 1</code> on the element that should stretch:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item</span> <span class="p">{</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="c">/* A fixed width as the default */</span>
<span class="p">}</span>

<span class="nc">.item-center</span> <span class="p">{</span> 
  <span class="nl">flex-grow</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span> <span class="c">/* Set the middle element to grow and stretch */</span>
<span class="p">}</span>

<span class="nc">.item</span> <span class="o">+</span> <span class="nc">.item</span> <span class="p">{</span> 
  <span class="nl">margin-left</span><span class="p">:</span> <span class="m">2%</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre></div></div>

<p>Even if the middle element here has a defined <code class="highlighter-rouge">width</code> of <code class="highlighter-rouge">100px</code>, <code class="highlighter-rouge">flex-grow</code> will make it stretch to take up all the available space.</p>

<h2 id="alternating-grid">Alternating grid</h2>

<p>A layout pattern that I use on my <a href="../index.html">blog overview</a> is to create a grid with some variation: after every row of two equally sized items there’s one item that takes up an entire row:</p>

<div class="blog-content-wrapper">
  <div class="flex flex3">
    <div class="child flex3-child"></div>
    <div class="child flex3-child"></div>
    <div class="child flex3-child"></div>
    <div class="child flex3-child"></div>
    <div class="child flex3-child"></div>
  </div>
</div>
<style type="text/css">
  /* Example 3 */
.flex3 {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
}

.flex3-child {
  width: 49%;
  height: 100px;
  margin-bottom: 2%;
}

.flex3-child:nth-child(3n) {
  width: 100%;
}
</style>

<p>To accomplish this we need to:</p>

<ol>
  <li>Set <code class="highlighter-rouge">flex-wrap: wrap</code> on the container (or all <code class="highlighter-rouge">items</code> would be rendered on a single row)</li>
  <li>Set <code class="highlighter-rouge">justify-content: space-between</code> on the container, to only create space between the elements (and not between the edge of the parent element and items)</li>
  <li>Set every item’s <code class="highlighter-rouge">width</code> to <code class="highlighter-rouge">49%</code> (or something similar that is equal to or less than <code class="highlighter-rouge">50%</code>)</li>
  <li>Set every third item’s <code class="highlighter-rouge">width</code> to <code class="highlighter-rouge">100%</code> so that it fills that entire row. We can target every third item in the list with the <code class="highlighter-rouge">nth-child()</code> selector.</li>
</ol>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">flex-wrap</span><span class="p">:</span> <span class="n">wrap</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="n">space-between</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">48%</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">2%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">3n</span><span class="o">)</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>If you want the first row to be full-width and the two following items to share a row, note that you can’t write <code class="highlighter-rouge">.item:nth-child(1n) { width: 100% }</code>—that would target all items. You have to target the first item by selecting every third element, and then stepping back two items: <code class="highlighter-rouge">.item:nth-child(3n-2) { width: 100% }</code>.</p>

<h2 id="3x3-grid">3x3 grid</h2>

<div class="blog-content-wrapper">
  <div class="flex flex4">
    <div class="child flex4-child"></div>
    <div class="child flex4-child"></div>
    <div class="child flex4-child"></div>
    <div class="child flex4-child"></div>
    <div class="child flex4-child"></div>
    <div class="child flex4-child"></div>
    <div class="child flex4-child"></div>
    <div class="child flex4-child"></div>
    <div class="child flex4-child"></div>
  </div>  
</div>
<style>
.flex4 {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
}

.flex4-child {
  flex: 0 32%;
  height: 100px;
  margin-bottom: 2%;
}
</style>

<p>We can create a 3x3 grid by setting <code class="highlighter-rouge">flex-grow</code> to <code class="highlighter-rouge">0</code> and <code class="highlighter-rouge">flex-basis</code> to the preferred width for all children (here done using the <code class="highlighter-rouge">flex</code> short-hand: <code class="highlighter-rouge">flex: 0 32%</code>). The margins between the items are the leftovers from every row, i.e. (100%-32x3)/2=2%. I’ve matched the margin (<code class="highlighter-rouge">margin-bottom: 2%</code>) to achieve even spacing between all elements:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">flex-wrap</span><span class="p">:</span> <span class="n">wrap</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="n">space-between</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item</span> <span class="p">{</span>
  <span class="nl">flex</span><span class="p">:</span> <span class="m">0</span> <span class="m">32%</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">2%</span><span class="p">;</span> <span class="c">/* (100-32*3)/2 */</span>
<span class="p">}</span>
</code></pre></div></div>
<p>You can change the <code class="highlighter-rouge">flex-basis</code> to increase or decrease the number of items on each row. <code class="highlighter-rouge">flex: 0 24%</code> would put 4 items on every row, <code class="highlighter-rouge">flex: 0 19%</code> would put 5 items on every row, and so on so forth.</p>

<h2 id="3x3-grid-constrained-proportions-11">3x3 grid, constrained proportions (1:1)</h2>
<div class="blog-content-wrapper">
  <div class="flex flex5">
    <div class="child flex5-child"></div>
    <div class="child flex5-child"></div>
    <div class="child flex5-child"></div>
    <div class="child flex5-child"></div>
    <div class="child flex5-child"></div>
    <div class="child flex5-child"></div>
    <div class="child flex5-child"></div>
    <div class="child flex5-child"></div>
    <div class="child flex5-child"></div>
  </div>
</div>
<style>
.flex5 {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
}

.flex5-child {
  width: 32%;
  padding-bottom: 32%;
  margin-bottom: 2%; /* (100-32*3)/2 */
}
</style>

<p>We can create a grid full of items with constrained proportions by using a somewhat hacky <code class="highlighter-rouge">padding</code> CSS trick. If we use <code class="highlighter-rouge">%</code> when setting <code class="highlighter-rouge">padding</code> on an element the <code class="highlighter-rouge">padding</code> is set relative to that item’s parent’s <code class="highlighter-rouge">width</code>, <code class="highlighter-rouge">.container</code> in this case. We can use that effect to create a square by setting an item’s <code class="highlighter-rouge">width</code> and <code class="highlighter-rouge">padding-bottom</code> to the same value (and effectively setting the <code class="highlighter-rouge">height</code> of that element through <code class="highlighter-rouge">padding-bottom</code>):</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">flex-wrap</span><span class="p">:</span> <span class="n">wrap</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="n">space-between</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">32%</span><span class="p">;</span>
  <span class="nl">padding-bottom</span><span class="p">:</span> <span class="m">32%</span><span class="p">;</span> <span class="c">/* Same as width, sets height */</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">2%</span><span class="p">;</span> <span class="c">/* (100-32*3)/2 */</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Since we’ve created an element that is effectively made up of only padding, and there’s no place left for content, we need to set <code class="highlighter-rouge">position: relative</code> on the <code class="highlighter-rouge">.item</code> in this example and add a child element with <code class="highlighter-rouge">position: absolute</code>, and use that element to “reset” the canvas and add content.</p>

<h2 id="3x3-grid-constrained-proportions-169">3x3 grid, constrained proportions (16:9)</h2>

<div class="blog-content-wrapper">
  <div class="flex flex6">
    <div class="child flex6-child"></div>
    <div class="child flex6-child"></div>
    <div class="child flex6-child"></div>
    <div class="child flex6-child"></div>
    <div class="child flex6-child"></div>
    <div class="child flex6-child"></div>
    <div class="child flex6-child"></div>
    <div class="child flex6-child"></div>
    <div class="child flex6-child"></div>
  </div>
</div>
<style>
.flex6 {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
}

.flex6-child {
  width: 32%;
  padding-bottom: 18%; /* Proportions between 32 and 18 is 16:9 */
  margin-bottom: 2%; /* (100-32*3)/2 */
}
</style>

<p>To change the proportions of the items all you need to do is change the proportions of the <code class="highlighter-rouge">width</code> and <code class="highlighter-rouge">padding-bottom</code> on the <code class="highlighter-rouge">.item</code>. Changing the <code class="highlighter-rouge">width</code> would affect the number of items on each row, so as to not affect the grid structure we can for example change <code class="highlighter-rouge">padding-bottom</code> to <code class="highlighter-rouge">18%</code> to create 16:9 (equivalent to 32:18) rectangles.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">flex-wrap</span><span class="p">:</span> <span class="n">wrap</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="n">space-between</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">32%</span><span class="p">;</span>
  <span class="nl">padding-bottom</span><span class="p">:</span> <span class="m">18%</span><span class="p">;</span> <span class="c">/* 32:18, i.e. 16:9 */</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">2%</span><span class="p">;</span> <span class="c">/* (100-32*3)/2 */</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="graph-vertical-bars">Graph: vertical bars</h2>
<div class="blog-content-wrapper">
  <div class="flex flex7">
    <div class="child flex7-child flex7-child-1"></div>
    <div class="child flex7-child flex7-child-2"></div>
    <div class="child flex7-child flex7-child-3"></div>
    <div class="child flex7-child flex7-child-4"></div>
    <div class="child flex7-child flex7-child-5"></div>
  </div>
</div>
<style>
.flex7 {
  display: flex;
  height: 300px;
  justify-content: space-between;
  align-items: flex-end;
}

.flex7-child {
  width: 14%;
}

.flex7-child-1 { height: 40%; }
.flex7-child-2 { height: 50%; }
.flex7-child-3 { height: 60%; }
.flex7-child-4 { height: 20%; }
.flex7-child-5 { height: 30%; }
</style>

<p>If you want to use flexbox to create a simple graph visualization, all you need to do is to set <code class="highlighter-rouge">align-items</code> of the container to <code class="highlighter-rouge">flex-end</code> and define a <code class="highlighter-rouge">height</code> for each bar. <code class="highlighter-rouge">flex-end</code> will make sure that the bars are anchored to the bottom of the graph.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">300px</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="n">space-between</span><span class="p">;</span>
  <span class="nl">align-items</span><span class="p">:</span> <span class="n">flex-end</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">14%</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item-1</span> <span class="p">{</span> <span class="nl">height</span><span class="p">:</span> <span class="m">40%</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item-2</span> <span class="p">{</span> <span class="nl">height</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item-3</span> <span class="p">{</span> <span class="nl">height</span><span class="p">:</span> <span class="m">60%</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item-4</span> <span class="p">{</span> <span class="nl">height</span><span class="p">:</span> <span class="m">20%</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item-5</span> <span class="p">{</span> <span class="nl">height</span><span class="p">:</span> <span class="m">30%</span><span class="p">;</span> <span class="p">}</span>
</code></pre></div></div>

<h2 id="graph-horizontal-bars">Graph: horizontal bars</h2>

<div class="blog-content-wrapper">
  <div class="flex flex8">
    <div class="child flex8-child flex8-child-1"></div>
    <div class="child flex8-child flex8-child-2"></div>
    <div class="child flex8-child flex8-child-3"></div>
    <div class="child flex8-child flex8-child-4"></div>
    <div class="child flex8-child flex8-child-5"></div>
  </div>
</div>
<style>
.flex8 {
  display: flex;
  height: 300px;
  justify-content: space-between;
  flex-direction: column;
}

.flex8-child {
  height: 14%;
}

.flex8-child-1 { width: 40%; }
.flex8-child-2 { width: 50%; }
.flex8-child-3 { width: 60%; }
.flex8-child-4 { width: 20%; }
.flex8-child-5 { width: 30%; }
</style>

<p>Using the same technique as for vertical bars, we can simply add <code class="highlighter-rouge">flex-direction</code> on the <code class="highlighter-rouge">container</code> with a value of <code class="highlighter-rouge">column</code> to create a set of horizontal bars. <code class="highlighter-rouge">flex-direction</code> can have a value of <code class="highlighter-rouge">row</code> (default) or <code class="highlighter-rouge">column</code>, where a <code class="highlighter-rouge">row</code> runs horizontally (→) and a <code class="highlighter-rouge">column</code> runs vertically (↓). You can also reverse the direction of both by using <code class="highlighter-rouge">row-reverse</code> (←) and <code class="highlighter-rouge">column-reverse</code> (↑) respectively.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">300px</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="n">space-between</span><span class="p">;</span>
  <span class="nl">flex-direction</span><span class="p">:</span> <span class="n">column</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item</span> <span class="p">{</span> <span class="nl">height</span><span class="p">:</span> <span class="m">14%</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item-1</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">40%</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item-2</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item-3</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">60%</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item-4</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">20%</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item-5</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">30%</span><span class="p">;</span> <span class="p">}</span>
</code></pre></div></div>

<h2 id="vertical-stack-centered">Vertical stack (centered)</h2>

<div class="blog-content-wrapper">
  <div class="flex flex9">
    <div class="child flex9-child"></div>
    <div class="child flex9-child"></div>
    <div class="child flex9-child"></div>
    <div class="child flex9-child"></div>
    <div class="child flex9-child"></div>
  </div>
</div>
<style>
.flex9 {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.flex9-child {
  width: 40%;
  height: 40px;
  margin-bottom: 2%;
}
</style>

<p>To create a vertical stack and make the items run from top to bottom all we need to do is to change the <code class="highlighter-rouge">flex-direction</code> from the default value of <code class="highlighter-rouge">row</code> to <code class="highlighter-rouge">column</code>:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">flex-direction</span><span class="p">:</span> <span class="n">column</span><span class="p">;</span>
  <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item</span> <span class="p">{</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">40px</span><span class="p">;</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="masonry-or-mosaic">Masonry (or mosaic)</h2>

<div class="blog-content-wrapper">
  <div class="flex flex10">
    <div class="child flex10-child flex10-child-1">1</div>
    <div class="child flex10-child flex10-child-2">2</div>
    <div class="child flex10-child flex10-child-3">3</div>
    <div class="child flex10-child flex10-child-4">4</div>
    <div class="child flex10-child flex10-child-5">5</div>
    <div class="child flex10-child flex10-child-6">6</div>
    <div class="child flex10-child flex10-child-7">7</div>
    <div class="child flex10-child flex10-child-8">8</div>
    <div class="child flex10-child flex10-child-9">9</div>
    <div class="child flex10-child flex10-child-10">10</div>
  </div>
</div>
<style>
.flex10 {
  display: flex;
  flex-flow: column wrap;
  align-content: space-between;
  height: 580px;
}

.flex10::before,
.flex10::after {
  content: "";
  flex-basis: 100%;
  width: 0;
  order: 2;
  border: 1px solid #ddd;
}

.icon-flex10::before,
.icon-flex10::after {
  border: 0;
}

.flex10-child {
  width: 32%;
  margin-bottom: 2%; /* (100-32*3)/2 */
  padding: 10px;
  box-sizing: border-box;
  text-align: center;
  color: white;
}

.flex10-child-1 { height: 200px; }
.flex10-child-2 { height: 250px; }
.flex10-child-3 { height: 225px; }
.flex10-child-4 { height: 100px; }
.flex10-child-5 { height: 100px; }
.flex10-child-6 { height: 125px; }
.flex10-child-7 { height: 100px; }
.flex10-child-8 { height: 75px; }
.flex10-child-9 { height: 100px; }
.flex10-child-10 { height: 100px; }

.flex10-child:nth-child(3n+1) { order: 1; }
.flex10-child:nth-child(3n+2) { order: 2; }
.flex10-child:nth-child(3n) { order: 3; }

/* For icon at the top */
.icon-flex10-child {
  padding: 0;
  border-radius: 1px;
}
.icon-flex10-child-1 { height: 10px; }
.icon-flex10-child-2 { height: 22px; }
.icon-flex10-child-3 { height: 14px; }
.icon-flex10-child-4 { height: 15px; }
.icon-flex10-child-5 { height: 16px; }
.icon-flex10-child-6 { height: 17px; }
.icon-flex10-child-7 { height: 12px; }
.icon-flex10-child-8 { height: 12px; }
.icon-flex10-child-9 { height: 12px; }
.icon-flex10-child-10 { height: 10px; }
</style>

<p>You’ve probably seen masonry (or mosaic) layouts all over the internet, but it’s likely that they were all powered by <a href="../../../masonry.desandro.com/index.html">Masonry</a> or a similar JavaScript library. Flexbox might seem like a great candidate to finally create this layout with CSS only, and it’s certainly possible, but it’s surprisingly hacky.</p>

<p>One of the main challenges of creating a masonry layout with flexbox is that to make an item affect the positioning of an item above and below it we need to change the <code class="highlighter-rouge">flex-direction</code> of the container to <code class="highlighter-rouge">column</code>, which makes items run from top to bottom. This creates a layout that looks great, and similar to the masonry effect, but it could be confusing for users; it creates an unexpected ordering of elements. If you read from left to right the elements would seem to be shuffled and appear in a seemingly random order, for example 1, 3, 6, 2, 4, 7, 8, etc.</p>

<p>Luckily, we can use the <code class="highlighter-rouge">order</code> property to change in which order elements are rendered. We can combine that property with some clever use of the <code class="highlighter-rouge">nth-child()</code> selector to order items dynamically depending on their original order. If we want to create a masonry layout with three columns we can divide all the items into three “groups”, like so:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* Re-order items into rows */</span>
<span class="nc">.item</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">3n</span><span class="o">+</span><span class="nt">1</span><span class="o">)</span> <span class="p">{</span> <span class="nl">order</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">3n</span><span class="o">+</span><span class="nt">2</span><span class="o">)</span> <span class="p">{</span> <span class="nl">order</span><span class="p">:</span> <span class="m">2</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">3n</span><span class="o">)</span>   <span class="p">{</span> <span class="nl">order</span><span class="p">:</span> <span class="m">3</span><span class="p">;</span> <span class="p">}</span>

<span class="c">/* Force new columns */</span>
<span class="nc">.container</span><span class="nd">::before</span><span class="o">,</span>
<span class="nc">.container</span><span class="nd">::after</span> <span class="p">{</span>
  <span class="nl">content</span><span class="p">:</span> <span class="s1">""</span><span class="p">;</span>
  <span class="nl">flex-basis</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">order</span><span class="p">:</span> <span class="m">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>I’ve written <a href="../masonry-with-css/index.html">another post that explains in detail how this works and why</a>. This will set the <code class="highlighter-rouge">order</code> to <code class="highlighter-rouge">1</code> for the 1st element, 4th element, 7th element, etc. Elements with the same <code class="highlighter-rouge">order</code> value will be ordered on ascending order according to the source code order, or which value was <em>set</em> first, so in this example we’re producing three sets ordered like so: <code class="highlighter-rouge">1, 4, 7, 10</code> (3n+1) with <code class="highlighter-rouge">order: 1</code>, <code class="highlighter-rouge">2, 5, 8</code> (3n+2) with <code class="highlighter-rouge">order: 2</code>, and <code class="highlighter-rouge">3, 6, 9</code> (3n) with <code class="highlighter-rouge">order: 3</code>. These three groups represent our three columns. Put together the order becomes <code class="highlighter-rouge">1, 4, 7, 10, 2, 5, 8, 3, 6, 9</code>.</p>

<p>If we make sure to render each of those groups as one column (no more, no less), it’ll create the illusion that the items have returned to their original order when you read from left to right. If we visually parse the grid as rows, the first row will contain the first element from every group (<code class="highlighter-rouge">1, 2, 3</code>), the second row will contain the second element from every group (<code class="highlighter-rouge">4, 5, 6</code>), and so on so forth. We then insert elements between the columns that take up 100% of the parent’s height, <a href="../flexbox-break-to-new-row/index.html">which force the columns to line break</a> and not accidentally merge with adjacent columns. Here’s the full CSS snippet:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">flex-flow</span><span class="p">:</span> <span class="n">column</span> <span class="n">wrap</span><span class="p">;</span>
  <span class="nl">align-content</span><span class="p">:</span> <span class="n">space-between</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">580px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">32%</span><span class="p">;</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">2%</span><span class="p">;</span> <span class="c">/* (100-32*3)/2 */</span>
<span class="p">}</span>

<span class="c">/* Re-order items into rows */</span>
<span class="nc">.item</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">3n</span><span class="o">+</span><span class="nt">1</span><span class="o">)</span> <span class="p">{</span> <span class="nl">order</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">3n</span><span class="o">+</span><span class="nt">2</span><span class="o">)</span> <span class="p">{</span> <span class="nl">order</span><span class="p">:</span> <span class="m">2</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.item</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">3n</span><span class="o">)</span>   <span class="p">{</span> <span class="nl">order</span><span class="p">:</span> <span class="m">3</span><span class="p">;</span> <span class="p">}</span>

<span class="c">/* Force new columns */</span>
<span class="nc">.container</span><span class="nd">::before</span><span class="o">,</span>
<span class="nc">.container</span><span class="nd">::after</span> <span class="p">{</span>
  <span class="nl">content</span><span class="p">:</span> <span class="s1">""</span><span class="p">;</span>
  <span class="nl">flex-basis</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">order</span><span class="p">:</span> <span class="m">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Visually this achieves something that is very close to the masonry effect. How is the tab order affected? Luckily, not at all. <code class="highlighter-rouge">order</code> only changes the visual representation of objects, not the tab order, so tabbing through the grid will work as intended.</p>

<p>If you want to make a masonry layout with more than three columns (or want a better understanding of how this works) I recommend reading <a href="../masonry-with-css/index.html">the dedicated post on how to create masonry layouts with CSS</a>.</p>

	</div>
	
	<p class="post-categories">
		Published in 

		
			<a href="../tutorial/index.html">tutorial</a>
			 • 
		
			<a href="../css/index.html">css</a>
			
		
		| 15 Apr 2019
	</p>
</div>

<div class="newsletter-signup content-wrapper">

  <h2 class="section-header section-header-subscribe">Subscribe.</h2>
  <div id="mc_embed_signup" class="newsletter-signup-container">
    <div class="newsletter-content newsletter-content-left">
      <h3 class="case-item-header">Get new posts delivered to your inbox</h3>
      <div class="grid-item-divider grid-item-divider-left"></div>
      <p class="grid-item-text grid-item-text-left">They're not frequent, promise ✌️</p>
    </div>

    <div class="newsletter-content newsletter-content-right">
      <form action="http://tobiasahlin.us6.list-manage.com/subscribe/post?u=b53336ca4dca0dadf0c41405a&amp;id=a3482fb718" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
        <div id="mc_embed_signup_scroll">
          <div class="mc-field-group">
            <label for="mce-EMAIL">email@example.com</label>
            <input type="email" placeholder="email@example.com" value="" name="EMAIL" class="required email" id="mce-EMAIL">
            <div class="newsletter-input-border"></div>
          </div>
          <div id="mce-responses">
            <div class="response" id="mce-error-response" style="display:none"></div>
            <div class="response" id="mce-success-response" style="display:none"></div>
          </div>
          <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_b53336ca4dca0dadf0c41405a_a3482fb718" tabindex="-1" value=""></div>
          <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="newsletter-signup-button">
        </div>
      </form>
    </div>

    
  </div>
</div>
<div class="content-wrapper contact-card">
  <h2 class="section-header">Say hi.</h2>

  <div class="contact-info">
    <a class="case-item-header" href="mailto:hello@tobiasahlin.com">hello@<br>tobiasahlin.com</a>

    <div class="grid-item-divider grid-item-divider-left"></div>
    <p class="grid-item-text grid-item-text-left">I love to design and make things. I speak, teach, and consult at tech companies and startups, e.g. Spotify, Minecraft, Volvo, and Hyper Island. <a href="../../../twitter.com/tobiasahlin.html">Say hi!</a><br><br>

    Tobias Bjerrome Ahlin <br>Stockholm, Sweden</p>

    <div class="contact-links">
      <a class="contact-link" href="../../../github.com/tobiasahlin.html"><span class="contact-icon"><svg class="case-item-icon icon-github" fill="#fff" xmlns="http://www.w3.org/2000/svg" width="62" height="60" viewBox="0 0 62 60"><path d="M31 0a30.7 30.7 0 0 0-9.8 59.9c1.55.3 2.116-.6 2.116-1.4s-.026-2.7-.042-5.3c-8.622 1.9-10.44-4.1-10.44-4.1-1.414-3.5-3.448-4.5-3.448-4.5-2.815-1.9.213-1.9.213-1.9a6.74 6.74 0 0 1 4.746 3.2c2.766 4.7 7.254 3.3 9.023 2.6a6.3 6.3 0 0 1 1.966-4.1c-6.88-.8-14.12-3.5-14.12-15.2a11.964 11.964 0 0 1 3.193-8.3 10.9 10.9 0 0 1 .3-8.1s2.6-.9 8.525 3.1a30.617 30.617 0 0 1 15.522 0c5.92-4 8.517-3.1 8.517-3.1a10.886 10.886 0 0 1 .308 8.1 11.946 11.946 0 0 1 3.186 8.3c0 11.8-7.248 14.4-14.155 15.1a7.52 7.52 0 0 1 2.1 5.7c0 4.1-.04 7.5-.04 8.5 0 .8.56 1.7 2.13 1.4A30.708 30.708 0 0 0 31 0"/></svg></span></a>
      <a class="contact-link contact-link-twitter" href="../../../twitter.com/tobiasahlin.html"><svg class="contact-icon twitter-icon-svg" fill="#fff" xmlns="http://www.w3.org/2000/svg" width="60" height="49" viewBox="0 0 60 49"><path d="M60 5.8a32.794 32.794 0 0 1-7.02 2A12.573 12.573 0 0 0 58.416.9a22.046 22.046 0 0 1-7.924 3A11.967 11.967 0 0 0 41.435 0 12.256 12.256 0 0 0 29.21 12.4a11.72 11.72 0 0 0 .225 2.8A34.736 34.736 0 0 1 4.075 2.1 11.406 11.406 0 0 0 2.49 8.3a12.24 12.24 0 0 0 5.436 10.3 12.607 12.607 0 0 1-5.66-1.6v.3a12.426 12.426 0 0 0 9.96 12.1 11.632 11.632 0 0 1-3.168.5 7.87 7.87 0 0 1-2.265-.2 12.483 12.483 0 0 0 11.548 8.7 23.817 23.817 0 0 1-15.4 5.3A14.578 14.578 0 0 1 0 43.5 35.742 35.742 0 0 0 18.79 49c22.64 0 35.094-19.1 35.094-35.7v-1.6a16.4 16.4 0 0 0 6.113-5.9z"/></svg></a>
    </div>

    <div data-image="profile.jpg" class="contact-picture">
      
    </div>
  </div>

</div>
</body>

<!-- Mirrored from tobiasahlin.com/blog/common-flexbox-patterns/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 09 Jul 2019 08:56:09 GMT -->
</html>

