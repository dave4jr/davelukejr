<!DOCTYPE html>
<html>

<!-- Mirrored from tobiasahlin.com/blog/how-to-animate-box-shadow/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 09 Jul 2019 09:05:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  
  <meta property="og:title" content="How to animate box-shadow with silky smooth performance" />
  <meta property="og:description" content="Spoiler-alert: you don't. You use a pseudo-element." />
  <meta property="og:url" content="https://tobiasahlin.com/blog/how-to-animate-box-shadow/" />
  <meta property="og:type" content="blog" />
  <meta property="og:image" content="https://tobiasahlin.com/static/-social/og_blog-how-to-animate-box-shadow.jpg" />
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="627">

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@tobiasahlin" />
  <meta name="twitter:creator" content="@tobiasahlin" />

  <meta name="description" content="Spoiler-alert: you don't. You use a pseudo-element." />
  <meta name="keywords" content=", tobias ahlin, github, spotify, hyper island" />

	<title>
    How to animate box-shadow with silky smooth performance
     | Tobias Ahlin
  </title>
    <link rel="icon" href="https://tobiasahlin.com/images/favicon.ico" type="image/x-icon" />
  <link rel="alternate" type="application/rss+xml"  href="https://tobiasahlin.com/feed.xml" title="Blog RSS Feed">
  <link rel="apple-touch-icon" href="https://tobiasahlin.com/images/touch-icon-iphone.png">
  <link rel="apple-touch-icon" sizes="76x76" href="https://tobiasahlin.com/images/touch-icon-ipad.png">
  <link rel="apple-touch-icon" sizes="120x120" href="https://tobiasahlin.com/images/touch-icon-iphone-retina.png">
  <link rel="apple-touch-icon" sizes="152x152" href="https://tobiasahlin.com/images/touch-icon-ipad-retina.png">
	
  <link href='https://fonts.googleapis.com/css?family=EB+Garamond' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="https://tobiasahlin.com/css/site.css">
  

  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>


<script type="text/javascript" src="https://tobiasahlin.com/js/app.js"></script>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-7944098-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
  </script>


  <script type="text/javascript" src="https://tobiasahlin.com/js/post.js"></script>
</head>
<body class="layout-post">

<div class="site-header site-header-post">
      <div class="site-nav-animation-wrapper menu-animation-wrapper">
      <div class="site-nav-animated-background menu-animated-background"></div>
    </div>
    <a href="https://tobiasahlin.com/" class="menu ">
      <span class="menu-icon-line-1 menu-icon-line"></span>
      <span class="menu-icon-line-2 menu-icon-line"></span>
      <span class="menu-icon-line-3 menu-icon-line"></span>
    </a>

    <div class="site-nav-overlay js-nav">
      <div class="nav-content">
        <div class="js-nav-header nav-header">
          <span class="nav-header-text">Tobias Ahlin</span>
          <div class="nav-header-line js-nav-header-line"></div>
        </div>

        <ul class="nav-categories">
          <li class="nav-category js-nav-animate"><a href="https://tobiasahlin.com/" class="nav-link">Overview</a></li>
          <li class="nav-category js-nav-animate"><a href="https://tobiasahlin.com/blog/" class="nav-link">Blog</a></li>
          <li class="nav-category js-nav-animate"><a href="https://tobiasahlin.com/blog/tutorials/" class="nav-link">Tutorials</a></li>
          <li class="nav-category js-nav-animate"><a href="https://tobiasahlin.com/speaking/" class="nav-link">Speaking</a></li>
        </ul>

        <div class="nav-sublinks js-nav-animate">
          <div class="js-nav-animate">
          <a class="nav-link nav-sublink" href="https://tobiasahlin.com/moving-letters/">Moving Letters</a>
          <a class="nav-link nav-sublink" href="https://tobiasahlin.com/typesource/">TypeSource</a>
          <a class="nav-link nav-sublink" href="https://tobiasahlin.com/spinkit/">SpinKit</a>
          </div>
        </div>
      </div>

    </div>

  <h1 class="site-name site-name-post">
  <a class="siteLogoLink  site-name-link-parent" href="https://tobiasahlin.com/">
  <svg class="siteHead-logoMark"xmlns="http://www.w3.org/2000/svg" width="47.25" height="26" viewBox="0 0 47.25 26">
  <path fill="currentColor" d="M1302.67,72.311a0.994,0.994,0,0,0-1.78-.016l-15.91,23.358a0.775,0.775,0,0,0,.7,1.328h10.61a3.292,3.292,0,0,0,2.47-1.347l1.81-2.793a0.967,0.967,0,0,1,1.75,0l1.81,2.793a3.311,3.311,0,0,0,2.48,1.347h10.6a0.793,0.793,0,0,0,.73-1.344Zm-12.42,12.739c0.5-.727,1.22-1.782,1.6-2.344s1.09-1.622,1.58-2.356l5.4-8.01a0.778,0.778,0,0,0-.71-1.332l-25.58-.032a1.611,1.611,0,0,0-1.61,1.607v7.7a1.609,1.609,0,0,0,1.61,1.6l7.84,0a1.607,1.607,0,0,1,1.6,1.6V95.437c0,0.883.41,1.011,0.91,0.284Zm0,0c0.5-.727,1.22-1.782,1.6-2.344s1.09-1.622,1.58-2.356l5.4-8.01a0.778,0.778,0,0,0-.71-1.332l-25.58-.032a1.611,1.611,0,0,0-1.61,1.607v7.7a1.609,1.609,0,0,0,1.61,1.6l7.84,0a1.607,1.607,0,0,1,1.6,1.6V95.437c0,0.883.41,1.011,0.91,0.284Z" transform="translate(-1270.94 -70.969)"/>
</svg>
</a>
  
    <a class="site-name-link" href="https://tobiasahlin.com/blog/">Blog</a>
  
</h1>
      <div class="site-nav-animation-wrapper site-search-animation-wrapper">
      <div class="site-nav-animated-background site-search-animated-background"></div>
    </div>
    
    <a href="#" class="site-search js-search">
      <span class="site-search-icon"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 38.96 41.469">
  <circle class="site-search-icon-circle" fill="none" stroke-width="4px" cx="16.465" cy="16.484" r="14.465"/>
  <path class="site-search-icon-line" d="M2791.72,95.441l3.03-3.034,13.1,13.968-3.03,3.034Z" transform="translate(-2768.88 -67.938)"/>
</svg>
</span>
      <span class="site-search-close-icon">
        <span class="site-search-close-icon-line site-search-close-icon-line-1"></span>
        <span class="site-search-close-icon-line site-search-close-icon-line-2"></span>
      </span>
    </a>

    <div class="js-search-overlay site-nav-overlay-search">
      <div class="site-search-content">
        <input placeholder="Search‚Ä¶" type="text" class="js-search-input siteSearchInput">
        <div class="site-search-content-results js-site-search-content-results"></div>
      </div>
    </div>

</div>
<div class="single-post">
	<div class="single-post-head" style="background-color: #8e5ea2">
			<h1 class="post-header" >How to animate box-shadow with silky smooth performance</h1>

			<div class="carbon-ad-container"><script async type="text/javascript" src="http://cdn.carbonads.com/carbon.js?zoneid=1673&amp;serve=C6AILKT&amp;placement=tobiasahlincom" id="_carbonads_js"></script></div>
	</div>
	
	<div class="article article-single">
		<div class="blog-banner">
  <div class="blog-banner-content" style="height: 90px;">
    <div class="box-shadow-demo"></div>
  </div>

  <style>
    .box-shadow-demo {
      display: inline-block;
      background-color: #fff;
      width: 90px;
      height: 90px;
      border-radius: 5px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.2);
      position: relative;
      border-radius: 5px;
      -webkit-animation: scaleAnimation 3.5s infinite cubic-bezier(0.165, 0.84, 0.44, 1);
      animation: scaleAnimation 3.5s infinite cubic-bezier(0.165, 0.84, 0.44, 1);
    }

    .box-shadow-demo::after {
      content: "";
      border-radius: 5px;
      position: absolute;
      z-index: -1;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      box-shadow: 0 5px 15px rgba(0,0,0,0.5);
      opacity: 0;
      -webkit-animation: fadeAnimation 3.5s infinite cubic-bezier(0.165, 0.84, 0.44, 1);
      animation: fadeAnimation 3.5s infinite cubic-bezier(0.165, 0.84, 0.44, 1);
    }

    @-webkit-keyframes fadeAnimation {
      0%, 80%, 100% {  opacity: 0; } 
      30%, 50% {  opacity: 1; }
    }

    @-webkit-keyframes scaleAnimation {
      0%, 80%, 100% {
        -webkit-transform: scale(1, 1);
        transform: scale(1, 1);
      } 30%, 50% {
        -webkit-transform: scale(1.3, 1.3);
        transform: scale(1.3, 1.3);
      }
    }

    @keyframes fadeAnimation {
      0%, 80%, 100% {  opacity: 0; } 
      30%, 50% {  opacity: 1; }
    }

    @keyframes scaleAnimation {
      0%, 80%, 100% { 
        -webkit-transform: scale(1, 1);
        transform: scale(1, 1);
      } 30%, 50% {
        -webkit-transform: scale(1.3, 1.3);
        transform: scale(1.3, 1.3);
      }
    }

    </style>

</div>

<!--more-->

<p>How do you animate the <code class="highlighter-rouge">box-shadow</code> property in CSS without causing re-paints on every frame, and heavily impacting the performance of your page? Short answer: you don‚Äôt. Animating a change of <code class="highlighter-rouge">box-shadow</code> <em>will</em> hurt performance.</p>

<p>There‚Äôs an easy way of mimicking the same effect, however, with minimal re-paints, that should let your animations run at a solid 60 FPS: animate the <code class="highlighter-rouge">opacity</code> of a pseudo-element.</p>

<h2 id="demo">Demo</h2>

<p><a href="https://tobiasahlin.com/demo/animate-box-shadow/"><img src="https://tobiasahlin.com/static/animate-box-shadow/demo.gif" alt="Recording of box-shadow demo in action" /></a></p>

<p><a href="https://tobiasahlin.com/demo/animate-box-shadow/">Have a look at the demo</a> and compare the two different techniques we‚Äôll be exploring. If the two examples look the same to you, that‚Äôs the point. The only difference is how we apply and animate the shadow. On the left we‚Äôre animating <code class="highlighter-rouge">box-shadow</code> on <code class="highlighter-rouge">hover</code>, and on the right we‚Äôre adding a pseudo-element with <code class="highlighter-rouge">:after</code>, applying the shadow to that, and animating the <code class="highlighter-rouge">opacity</code> of that element.</p>

<p>If you bring up your developer tools and hover one of these items, you should see something similar to this (green bars are paints; less is better):</p>

<p><a href="https://tobiasahlin.com/demo/animate-box-shadow/"><img src="https://tobiasahlin.com/static/animate-box-shadow/animation-performance.png" alt="Animation performance when hovering the different boxes" /></a></p>

<p>There are clearly more re-paints when hovering the cards on the left side (animating <code class="highlighter-rouge">box-shadow</code>), compared to hovering the cards on the right side (which animate the <code class="highlighter-rouge">opacity</code> of their pseudo-element).</p>

<p>Why are we seeing this effect? There are <a href="http://csstriggers.com/">very few CSS properties</a> that can be animated without constantly triggering repaints for every frame, namely <code class="highlighter-rouge">opacity</code> and <code class="highlighter-rouge">transform</code>. We minimize the amount of repaints (and work that your browser has to do) by sticking to only changing these two properties during the animation.</p>

<p>This is the <strong>critical difference</strong> between the two techniques, stripping out all of the other layout styles:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* The slow way */</span>
<span class="nc">.make-it-slow</span> <span class="p">{</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span> <span class="m">2px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.15</span><span class="p">);</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">box-shadow</span> <span class="m">0.3s</span> <span class="n">ease-in-out</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Transition to a bigger shadow on hover */</span>
<span class="nc">.make-it-slow</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">5px</span> <span class="m">15px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.3</span><span class="p">);</span>
<span class="p">}</span>

<span class="c">/* The fast way */</span>
<span class="nc">.make-it-fast</span> <span class="p">{</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span> <span class="m">2px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.15</span><span class="p">);</span>
<span class="p">}</span>

<span class="c">/* Pre-render the bigger shadow, but hide it */</span>
<span class="nc">.make-it-fast</span><span class="nd">::after</span> <span class="p">{</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">5px</span> <span class="m">15px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.3</span><span class="p">);</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.3s</span> <span class="n">ease-in-out</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Transition to showing the bigger shadow on hover */</span>
<span class="nc">.make-it-fast</span><span class="nd">:hover::after</span> <span class="p">{</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In the example that performs better we have two layers: one for the box, and one for the shadow, and only animate the <code class="highlighter-rouge">opacity</code> property of the shadow layer.</p>

<h2 id="breaking-it-down">Breaking it down</h2>

<p>With the fundamentals in place, let‚Äôs look at how to create <a href="https://tobiasahlin.com/demo/animate-box-shadow/">the 3D card effect showcased in the demo</a>. The first step is to move the shadow to a pseudo-element, like we did above. Let‚Äôs also add all of the layout code to create the card:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* All HTML you need is &lt;div class="box"&gt;&lt;/div&gt; */</span>

<span class="c">/* Create a simple white box, and add the shadow for the initial state */</span>
<span class="nc">.box</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span> <span class="m">2px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.15</span><span class="p">);</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">all</span> <span class="m">0.3s</span> <span class="n">ease-in-out</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Create the hidden pseudo-element */</span>
<span class="c">/* include the shadow for the end state */</span>
<span class="nc">.box</span><span class="nd">::after</span> <span class="p">{</span>
  <span class="nl">content</span><span class="p">:</span> <span class="s2">''</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
  <span class="nl">z-index</span><span class="p">:</span> <span class="m">-1</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">5px</span> <span class="m">15px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.3</span><span class="p">);</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.3s</span> <span class="n">ease-in-out</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Note that we‚Äôre adding a <code class="highlighter-rouge">transition</code> to both the <code class="highlighter-rouge">.box</code>, and <code class="highlighter-rouge">.box::after</code>, since we‚Äôre going to animate both of these elements: <code class="highlighter-rouge">transform</code> for <code class="highlighter-rouge">.box</code>, and <code class="highlighter-rouge">opacity</code> for <code class="highlighter-rouge">.box::after</code>.</p>

<p>These styles give us a white box with a subtle <code class="highlighter-rouge">box-shadow</code>. The stronger shadow from <code class="highlighter-rouge">.box::after</code> is completely hidden at this point, and you can‚Äôt interact with the box:</p>

<div class="post-demo-content">
  <div class="box"></div>

  <style>

  .box {
    position: relative;
    display: inline-block;
    width: 100px;
    height: 100px;
    border-radius: 5px;
    background-color: #fff;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    transition: all 0.3s ease-in-out;
  }
  </style>
</div>

<p>To create the same effect as in the <a href="https://tobiasahlin.com/demo/animate-box-shadow/">demo</a>, now all we need to do is to scale up the <code class="highlighter-rouge">.box</code> on hover, and fade in the pseudo-element and its shadow:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* Scale up the box */</span>
<span class="nc">.box</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">1.2</span><span class="p">,</span> <span class="m">1.2</span><span class="p">);</span>
<span class="p">}</span>

<span class="c">/* Fade in the pseudo-element with the bigger shadow */</span>
<span class="nc">.box</span><span class="nd">:hover::after</span> <span class="p">{</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>That‚Äôs it! Hover the box to preview the effect:</p>

<div class="post-demo-content">
  <div class="box2"></div>

  <style>

  .box2 {
    position: relative;
    display: inline-block;
    width: 100px;
    height: 100px;
    border-radius: 5px;
    background-color: #fff;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    -webkit-transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
    transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
  }

  /* Create the hidden pseudo-element */
  /* include the shadow for the end state */
  .box2::after {
    content: '';
    position: absolute;
    z-index: -1;
    width: 100%;
    height: 100%;
    border-radius: 5px;
    left: 0;
    top: 0;
    opacity: 0;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    -webkit-transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
    transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1)
  }

  .box2:hover {
    -webkit-transform: scale(1.25, 1.25);
    transform: scale(1.25, 1.25);
  }

  .box2:hover::after {
      opacity: 1;
  }
  </style>
</div>

<p>To summarize, here‚Äôs all the CSS, with all vendor prefixes, and some custom easing for additional ‚ú®üëå:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.box</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span> <span class="m">2px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.1</span><span class="p">);</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">all</span> <span class="m">0.6s</span> <span class="n">cubic-bezier</span><span class="p">(</span><span class="m">0.165</span><span class="p">,</span> <span class="m">0.84</span><span class="p">,</span> <span class="m">0.44</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">all</span> <span class="m">0.6s</span> <span class="n">cubic-bezier</span><span class="p">(</span><span class="m">0.165</span><span class="p">,</span> <span class="m">0.84</span><span class="p">,</span> <span class="m">0.44</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.box</span><span class="nd">::after</span> <span class="p">{</span>
  <span class="nl">content</span><span class="p">:</span> <span class="s1">""</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
  <span class="nl">z-index</span><span class="p">:</span> <span class="m">-1</span><span class="p">;</span>
  <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">5px</span> <span class="m">15px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.3</span><span class="p">);</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">all</span> <span class="m">0.6s</span> <span class="n">cubic-bezier</span><span class="p">(</span><span class="m">0.165</span><span class="p">,</span> <span class="m">0.84</span><span class="p">,</span> <span class="m">0.44</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">all</span> <span class="m">0.6s</span> <span class="n">cubic-bezier</span><span class="p">(</span><span class="m">0.165</span><span class="p">,</span> <span class="m">0.84</span><span class="p">,</span> <span class="m">0.44</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.box</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">1.25</span><span class="p">,</span> <span class="m">1.25</span><span class="p">);</span>
  <span class="nl">transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">1.25</span><span class="p">,</span> <span class="m">1.25</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.box</span><span class="nd">:hover::after</span> <span class="p">{</span>
    <span class="nl">opacity</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div>

<p>That‚Äôs certainly a lot of CSS to achieve the same effect as simply animating <code class="highlighter-rouge">box-shadow</code>, just with improved performance. Why bother?</p>

<p>Even if your desktop likely handles animating <code class="highlighter-rouge">box-shadow</code> without any issues, your phone may not, and even your desktop may start to stutter when animating a more complex layout.</p>

<p>Keep transitions and animations to only <code class="highlighter-rouge">transform</code> and <code class="highlighter-rouge">opacity</code>, and you‚Äôre certain to achieve the best possible performance, and with that, the best possible user experience.</p>

	</div>
	
	<p class="post-categories">
		Published in 

		
			<a href="https://tobiasahlin.com/blog/css/">css</a>
			 ‚Ä¢ 
		
			<a href="https://tobiasahlin.com/blog/performance/">performance</a>
			 ‚Ä¢ 
		
			<a href="https://tobiasahlin.com/blog/animation/">animation</a>
			 ‚Ä¢ 
		
			<a href="https://tobiasahlin.com/blog/tutorial/">tutorial</a>
			
		
		| 18 Nov 2015
	</p>
</div>

<div class="newsletter-signup content-wrapper">

  <h2 class="section-header section-header-subscribe">Subscribe.</h2>
  <div id="mc_embed_signup" class="newsletter-signup-container">
    <div class="newsletter-content newsletter-content-left">
      <h3 class="case-item-header">Get new posts delivered to your inbox</h3>
      <div class="grid-item-divider grid-item-divider-left"></div>
      <p class="grid-item-text grid-item-text-left">They're not frequent, promise ‚úåÔ∏è</p>
    </div>

    <div class="newsletter-content newsletter-content-right">
      <form action="http://tobiasahlin.us6.list-manage.com/subscribe/post?u=b53336ca4dca0dadf0c41405a&amp;id=a3482fb718" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
        <div id="mc_embed_signup_scroll">
          <div class="mc-field-group">
            <label for="mce-EMAIL">email@example.com</label>
            <input type="email" placeholder="email@example.com" value="" name="EMAIL" class="required email" id="mce-EMAIL">
            <div class="newsletter-input-border"></div>
          </div>
          <div id="mce-responses">
            <div class="response" id="mce-error-response" style="display:none"></div>
            <div class="response" id="mce-success-response" style="display:none"></div>
          </div>
          <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_b53336ca4dca0dadf0c41405a_a3482fb718" tabindex="-1" value=""></div>
          <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="newsletter-signup-button">
        </div>
      </form>
    </div>

    
  </div>
</div>
<div class="content-wrapper contact-card">
  <h2 class="section-header">Say hi.</h2>

  <div class="contact-info">
    <a class="case-item-header" href="mailto:hello@tobiasahlin.com">hello@<br>tobiasahlin.com</a>

    <div class="grid-item-divider grid-item-divider-left"></div>
    <p class="grid-item-text grid-item-text-left">I love to design and make things. I speak, teach, and consult at tech companies and startups, e.g. Spotify, Minecraft, Volvo, and Hyper Island. <a href="https://twitter.com/tobiasahlin">Say hi!</a><br><br>

    Tobias Bjerrome Ahlin <br>Stockholm, Sweden</p>

    <div class="contact-links">
      <a class="contact-link" href="https://github.com/tobiasahlin"><span class="contact-icon"><svg class="case-item-icon icon-github" fill="#fff" xmlns="http://www.w3.org/2000/svg" width="62" height="60" viewBox="0 0 62 60"><path d="M31 0a30.7 30.7 0 0 0-9.8 59.9c1.55.3 2.116-.6 2.116-1.4s-.026-2.7-.042-5.3c-8.622 1.9-10.44-4.1-10.44-4.1-1.414-3.5-3.448-4.5-3.448-4.5-2.815-1.9.213-1.9.213-1.9a6.74 6.74 0 0 1 4.746 3.2c2.766 4.7 7.254 3.3 9.023 2.6a6.3 6.3 0 0 1 1.966-4.1c-6.88-.8-14.12-3.5-14.12-15.2a11.964 11.964 0 0 1 3.193-8.3 10.9 10.9 0 0 1 .3-8.1s2.6-.9 8.525 3.1a30.617 30.617 0 0 1 15.522 0c5.92-4 8.517-3.1 8.517-3.1a10.886 10.886 0 0 1 .308 8.1 11.946 11.946 0 0 1 3.186 8.3c0 11.8-7.248 14.4-14.155 15.1a7.52 7.52 0 0 1 2.1 5.7c0 4.1-.04 7.5-.04 8.5 0 .8.56 1.7 2.13 1.4A30.708 30.708 0 0 0 31 0"/></svg></span></a>
      <a class="contact-link contact-link-twitter" href="https://twitter.com/tobiasahlin"><svg class="contact-icon twitter-icon-svg" fill="#fff" xmlns="http://www.w3.org/2000/svg" width="60" height="49" viewBox="0 0 60 49"><path d="M60 5.8a32.794 32.794 0 0 1-7.02 2A12.573 12.573 0 0 0 58.416.9a22.046 22.046 0 0 1-7.924 3A11.967 11.967 0 0 0 41.435 0 12.256 12.256 0 0 0 29.21 12.4a11.72 11.72 0 0 0 .225 2.8A34.736 34.736 0 0 1 4.075 2.1 11.406 11.406 0 0 0 2.49 8.3a12.24 12.24 0 0 0 5.436 10.3 12.607 12.607 0 0 1-5.66-1.6v.3a12.426 12.426 0 0 0 9.96 12.1 11.632 11.632 0 0 1-3.168.5 7.87 7.87 0 0 1-2.265-.2 12.483 12.483 0 0 0 11.548 8.7 23.817 23.817 0 0 1-15.4 5.3A14.578 14.578 0 0 1 0 43.5 35.742 35.742 0 0 0 18.79 49c22.64 0 35.094-19.1 35.094-35.7v-1.6a16.4 16.4 0 0 0 6.113-5.9z"/></svg></a>
    </div>

    <div data-image="profile.jpg" class="contact-picture">
      
    </div>
  </div>

</div>
</body>

<!-- Mirrored from tobiasahlin.com/blog/how-to-animate-box-shadow/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 09 Jul 2019 09:05:25 GMT -->
</html>

